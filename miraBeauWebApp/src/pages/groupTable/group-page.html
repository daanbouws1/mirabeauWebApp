<template>
  <require from="../../resources/elements/main.css"></require>
  <require from="bootstrap/css/bootstrap.css"></require>
  <require from="../../widgets/spinner/spinner.css"></require>

  <div class="wrapper">
    <div show.bind="busy.active">
      <div class="spinner"></div>
      <div class="spinner-blocker"></div>
    </div>
    <h3>Clients</h3>
    <h4 class="subHeader">Manage your clients here. Add/Edit/Delete</h4>
    <br/>
    <div>
      <button click.delegate="addPerson()" class="addButton button list-grid__button btn btn-primary"><b>+</b></button>
    </div>
    <br/><br/>
    <div class="c-filter-input">
      <input type="text" class="c-filter-input__input" value.bind="searchTerm" placeholder="Filter...">
      <!--anchor-->
    </div>
    <br/>
    <div class="list-grid border border--round">
      <div class="list-grid__header">
        <div class="list-grid__column">Name</div>
        <div class="list-grid__column">Age</div>
        <div class="list-grid__column">Job Title</div>
      </div>
      <div class="list-grid__body">
        <div repeat.for="dude of people | filter:searchTerm:filterFunc" class="list-item">
          <div if.bind="newlyAdded" class="list-grid__column list-grid__column--item">
                <span if.bind="$first">
                  <b class="selected">${dude.name}</b>
                </span>
            <span if.bind="!$first">${dude.name}</span>
          </div>
          <div if.bind="newlyAdded == false" class="list-grid__column list-grid__column--item">
            <span>${dude.name}</span>
          </div>

          <div if.bind="newlyAdded" class="list-grid__column list-grid__column--item">
                <span if.bind="$first">
                  <b class="selected">${dude.age}</b>
                </span>
            <span if.bind="!$first">${dude.age}</span>
          </div>
          <div if.bind="newlyAdded == false" class="list-grid__column list-grid__column--item"><span>${dude.age}</span></div>

          <div if.bind="newlyAdded" class="list-grid__column list-grid__column--item">
                <span if.bind="$first">
                  <b class="selected">${dude.jobTitle}</b>
                </span>
            <span if.bind="!$first">${dude.jobTitle}</span>
          </div>
          <div if.bind="newlyAdded == false" class="list-grid__column list-grid__column--item"><span>${dude.jobTitle}</span></div>

          <div class="list-grid__column" style="margin-bottom:20px;">
            <button class="btn button leftButton btn-primary btn-primary--shadow" click.delegate="editPerson(dude)">Edit</button>
            <button class="btn button btn-warning btn-warning--shadow" click.delegate="deletePerson(dude)">Delete</button>
          </div>
          <br><br>
        </div>
      </div>
    </div>
  </div>
</template>
